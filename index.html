<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è´¢å¯ŒåŸºå› Â·å…­ç»´æ·±åº¦ç½—ç›˜</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #5b21b6; /* æ·±é‚ƒç´« */
            --primary-light: #8b5cf6;
            --accent: #f59e0b; /* é‡‘è‰²ç‚¹ç¼€ */
            --bg: #f8fafc;
            --card: #ffffff;
            --text-main: #1e293b;
            --text-sub: #64748b;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: var(--bg);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            min-height: 100vh;
            color: var(--text-main);
        }

        .container {
            width: 100%;
            max-width: 500px;
            background: var(--card);
            border-radius: 24px;
            box-shadow: 0 10px 40px rgba(91, 33, 182, 0.08);
            overflow: hidden;
            padding: 25px;
            position: relative;
        }

        /* é¡¶éƒ¨è¿›åº¦æ¡ */
        .progress-box {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 30px;
        }
        .progress-bar {
            flex: 1;
            height: 8px;
            background-color: #e2e8f0;
            border-radius: 10px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-light), var(--primary));
            width: 0%;
            transition: width 0.4s ease;
        }
        .progress-text {
            font-size: 13px;
            color: var(--text-sub);
            font-weight: 600;
        }

        /* é¢˜ç›®å¡ç‰‡ */
        .question-area {
            min-height: 140px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            margin-bottom: 25px;
            animation: fadeIn 0.4s ease;
        }
        .q-tag {
            display: inline-block;
            background: #f3e8ff;
            color: var(--primary);
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: bold;
            margin-bottom: 10px;
            width: fit-content;
        }
        .q-text {
            font-size: 19px;
            font-weight: 700;
            line-height: 1.5;
            color: var(--text-main);
        }

        /* é€‰é¡¹æŒ‰é’® */
        .options { display: flex; flex-direction: column; gap: 12px; }
        .btn-opt {
            background: #fff;
            border: 2px solid #f1f5f9;
            padding: 18px;
            border-radius: 16px;
            font-size: 16px;
            color: var(--text-main);
            text-align: left;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 500;
            position: relative;
            overflow: hidden;
        }
        .btn-opt:hover {
            border-color: var(--primary-light);
            background: #fcfaff;
            color: var(--primary);
        }
        .btn-opt:active { transform: scale(0.98); }

        /* === ç»“æœé¡µ === */
        #result-page { display: none; animation: slideUp 0.6s ease; }
        
        .result-header { text-align: center; margin-bottom: 20px; }
        .user-tag {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            padding: 6px 18px;
            border-radius: 30px;
            font-size: 12px;
            font-weight: bold;
            letter-spacing: 1px;
            text-transform: uppercase;
            box-shadow: 0 4px 15px rgba(91, 33, 182, 0.3);
        }
        .archetype-title {
            font-size: 32px;
            font-weight: 800;
            margin: 15px 0 5px 0;
            background: -webkit-linear-gradient(45deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .score-total { font-size: 14px; color: var(--text-sub); }

        /* é›·è¾¾å›¾èƒŒæ™¯ */
        .chart-box {
            position: relative;
            height: 300px;
            margin: 10px 0 30px 0;
        }

        /* æ¨¡å—æ ‡é¢˜ */
        .mod-title {
            font-size: 18px;
            font-weight: 800;
            margin: 35px 0 15px 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .mod-title::before {
            content: '';
            width: 5px;
            height: 20px;
            background: var(--accent);
            border-radius: 20px;
        }

        /* æ·±åº¦åˆ†æå¡ç‰‡ */
        .analysis-card {
            background: #f9fafb;
            border: 1px solid #f3f4f6;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 15px;
        }
        .card-head {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-weight: 700;
            font-size: 16px;
        }
        .card-body { font-size: 14px; line-height: 1.6; color: #475569; text-align: justify; }

        /* æ¨èå‰¯ä¸š/èŒä¸š */
        .career-box {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        .career-tag {
            background: #fff7ed;
            color: #c2410c;
            border: 1px solid #ffedd5;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 600;
        }

        /* å‘½è¿é¢„æµ‹ */
        .fortune-text {
            background: #f0fdf4;
            border: 1px solid #dcfce7;
            padding: 20px;
            border-radius: 16px;
            color: #15803d;
            font-size: 15px;
            line-height: 1.7;
        }

        .btn-restart {
            width: 100%;
            margin-top: 40px;
            padding: 18px;
            background: var(--text-main);
            color: white;
            border: none;
            border-radius: 16px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
        }

        @keyframes fadeIn { from {opacity:0} to {opacity:1} }
        @keyframes slideUp { from {opacity:0; transform:translateY(40px)} to {opacity:1; transform:translateY(0)} }
    </style>
</head>
<body>

<div class="container">
    <div id="quiz-page">
        <div class="progress-box">
            <div class="progress-bar"><div class="progress-fill" id="p-fill"></div></div>
            <div class="progress-text" id="p-text">1/36</div>
        </div>

        <div class="question-area">
            <div class="q-tag" id="q-tag">æµ‹è¯•ä¸­</div>
            <div class="q-text" id="q-text">åŠ è½½ä¸­...</div>
        </div>

        <div class="options">
            <button class="btn-opt" onclick="ans(5)">A. éå¸¸ç¬¦åˆ (YES)</button>
            <button class="btn-opt" onclick="ans(4)">B. æ¯”è¾ƒç¬¦åˆ</button>
            <button class="btn-opt" onclick="ans(3)">C. ä¸€èˆ¬ / ä¸ç¡®å®š</button>
            <button class="btn-opt" onclick="ans(2)">D. ä¸å¤ªç¬¦åˆ</button>
            <button class="btn-opt" onclick="ans(1)">E. å®Œå…¨ä¸ç¬¦åˆ (NO)</button>
        </div>
    </div>

    <div id="result-page">
        <div class="result-header">
            <span class="user-tag">ä½ çš„è´¢å¯ŒåŸå‹</span>
            <div class="archetype-title" id="res-title">è®¡ç®—ä¸­...</div>
            <div class="score-total">æ€»èƒ½é‡å€¼ï¼š<span id="res-score">0</span> / 180</div>
        </div>

        <div class="chart-box">
            <canvas id="radarChart"></canvas>
        </div>

        <div class="mod-title">ğŸ§¬ å…­ç»´åŸºå› æ·±åº¦æ‰«æ</div>
        <div id="analysis-container"></div>

        <div class="mod-title">ğŸ’¼ ä½ çš„å¤©å‘½æé’±è·¯å­</div>
        <div style="font-size:14px; color:#666; margin-bottom:12px;">åŸºäºä½ çš„ä¼˜åŠ¿åŸºå› æ¨èï¼š</div>
        <div class="career-box" id="career-container"></div>

        <div class="mod-title">ğŸ”® æœªæ¥5å¹´è´¢å¯Œè¿åŠ¿</div>
        <div class="fortune-text" id="fortune-text"></div>

        <button class="btn-restart" onclick="location.reload()">ä¿å­˜ç»“æœå›¾ / é‡æ–°æµ‹è¯•</button>
    </div>
</div>

<script>
    // === 1. å…­ç»´é¢˜åº“ (36é¢˜) ===
    // ç»´åº¦: sense(å—…è§‰), risk(èƒ†é‡), action(æ‰§è¡Œ), container(é…å¾—æ„Ÿ), social(äººè„‰), logic(è´¢å•†)
    const questions = [
        // --- å•†ä¸šå—…è§‰ Sense ---
        {t:"çœ‹åˆ°ä¸€å®¶æ–°å¼€çš„æ’é˜Ÿç½‘çº¢åº—ï¼Œç¬¬ä¸€ååº”æ˜¯åˆ†æå®ƒçš„æˆæœ¬å’Œåˆ©æ¶¦æ¨¡å¼ã€‚", d:"sense", r:false},
        {t:"åˆ·çŸ­è§†é¢‘æ—¶ï¼Œç»å¸¸èƒ½ä»åˆ«äººçš„åæ§½ä¸­å‘ç°æŸç§æœªè¢«æ»¡è¶³çš„éœ€æ±‚ã€‚", d:"sense", r:false},
        {t:"æ€»è§‰å¾—èµšé’±å¾ˆéš¾ï¼Œæä¸æ¸…æ¥šç°åœ¨åˆ°åº•ä»€ä¹ˆè¡Œä¸šæœ‰çº¢åˆ©ã€‚", d:"sense", r:true},
        {t:"èº«è¾¹çš„æœ‹å‹å¦‚æœæœ‰å•†ä¸šä¸Šçš„å›°æƒ‘ï¼Œç»å¸¸ä¼šæ¥å¾æ±‚æˆ‘çš„æ„è§ã€‚", d:"sense", r:false},
        {t:"æˆ‘è®¤ä¸ºâ€œé£å£â€éƒ½æ˜¯éª—äººçš„ï¼Œèµšé’±ä¸»è¦é è€è€å®å®åŠªåŠ›ã€‚", d:"sense", r:true},
        {t:"å¯¹â€œä¿¡æ¯å·®â€éå¸¸æ•æ„Ÿï¼Œç»å¸¸èƒ½ä¹°åˆ°æ¯”åˆ«äººä¾¿å®œå¾ˆå¤šçš„ä¸œè¥¿æˆ–æœåŠ¡ã€‚", d:"sense", r:false},
        
        // --- é£é™©åšå¼ˆ Risk ---
        {t:"ä¸ºäº†è·å¾—å€å¢çš„å›æŠ¥ï¼Œæˆ‘æ„¿æ„å¿å—é•¿è¾¾ä¸€å¹´çš„â€œé¢—ç²’æ— æ”¶â€æœŸã€‚", d:"risk", r:false},
        {t:"å¦‚æœæœ‰ä¸€ç¬”é—²é’±ï¼Œæˆ‘å®æ„¿å­˜å®šæœŸï¼Œä¹Ÿä¸æ„¿å°è¯•æœ‰äºæŸé£é™©çš„æŠ•èµ„ã€‚", d:"risk", r:true},
        {t:"åšé‡å¤§å†³ç­–ï¼ˆå¦‚è·³æ§½ã€åˆ›ä¸šï¼‰æ—¶ï¼Œå…´å¥‹æ„Ÿå¤šäºææƒ§æ„Ÿã€‚", d:"risk", r:false},
        {t:"éå¸¸è®¨åŒä¸ç¡®å®šæ€§ï¼Œç¨³å®šçš„æ­»å·¥èµ„è®©æˆ‘æœ€æœ‰å®‰å…¨æ„Ÿã€‚", d:"risk", r:true},
        {t:"è®¤ä¸ºâ€œå¯Œè´µé™©ä¸­æ±‚â€ï¼Œä¸æ•¢ä¸‹æ³¨çš„äººæ°¸è¿œæ²¡æœºä¼šè·¨è¶Šé˜¶å±‚ã€‚", d:"risk", r:false},
        {t:"ä¸€æ—¦æŠ•èµ„å‡ºç°æµ®äºï¼Œä¼šç„¦è™‘å¾—ç¡ä¸ç€è§‰ï¼Œåªæƒ³èµ¶ç´§å›æœ¬å–å‡ºã€‚", d:"risk", r:true},

        // --- å˜ç°æ‰§è¡Œ Action ---
        {t:"ç»å¸¸æœ‰å¾ˆå¥½çš„æé’±ç‚¹å­ï¼Œä½†æœ€åå¤§å¤šåœç•™åœ¨è„‘å­é‡Œï¼Œæ²¡åšå‡ºæ¥ã€‚", d:"action", r:true},
        {t:"å¦‚æœå†³å®šåšå‰¯ä¸šï¼Œä¼šåœ¨24å°æ—¶å†…å®Œæˆæ³¨å†Œè´¦å·ã€å‘ç¬¬ä¸€æ¡å†…å®¹ç­‰åŠ¨ä½œã€‚", d:"action", r:false},
        {t:"é‡åˆ°ä¸æ‡‚çš„æŠ€èƒ½ï¼Œä¼šç«‹åˆ»æœæ•™ç¨‹å­¦ï¼Œè€Œä¸æ˜¯ç­‰ç€åˆ«äººæ•™ã€‚", d:"action", r:false},
        {t:"æ€»è§‰å¾—å¿…é¡»æŠŠæ‰€æœ‰ç»†èŠ‚å‡†å¤‡å®Œç¾äº†ï¼Œæ‰èƒ½å¼€å§‹å®æ–½è®¡åˆ’ã€‚", d:"action", r:true},
        {t:"å£å¤´ç¦…æ˜¯â€œè¿™äº‹æ€ä¹ˆæå®šâ€ï¼Œè€Œä¸æ˜¯â€œè¿™äº‹å¤ªéš¾äº†â€ã€‚", d:"action", r:false},
        {t:"ä¹°äº†å¾ˆå¤šè¯¾/ä¹¦ï¼Œä½†çœŸæ­£çœ‹å®Œå¹¶ç…§åšçš„ä¸åˆ°20%ã€‚", d:"action", r:true},

        // --- è´¢å¯Œé…å¾—æ„Ÿ Container ---
        {t:"æ½œæ„è¯†é‡Œè§‰å¾—æœ‰é’±äººå¤§å¤šæ˜¯è´ªå©ªçš„ã€åŠ¿åˆ©çš„æˆ–ä¸é“å¾·çš„ã€‚", d:"container", r:true},
        {t:"å¦‚æœçªç„¶ä¸­äº†å¤§å¥–ï¼Œæˆ‘æœ‰ä¿¡å¿ƒæŒæ§è¿™ç¬”é’±ï¼Œè€Œä¸æ˜¯æŒ¥éœä¸€ç©ºã€‚", d:"container", r:false},
        {t:"ç»™è‡ªå·±ä¹°è´µé‡ä¸œè¥¿æ—¶ï¼Œå†…å¿ƒæ€»æœ‰ä¸€ç§éšéšçš„â€œæˆ‘ä¸é…â€çš„è´Ÿç½ªæ„Ÿã€‚", d:"container", r:true},
        {t:"å½“åˆ«äººå¤¸æˆ‘æœ‰é’±æˆ–æœ‰èƒ½åŠ›æ—¶ï¼Œæˆ‘ä¼šå¤§æ–¹æ¥å—ï¼Œè€Œä¸æ˜¯å°´å°¬å¦è®¤ã€‚", d:"container", r:false},
        {t:"è§‰å¾—é’±å¤ŸèŠ±å°±è¡Œï¼Œå¤ªå¤šçš„è´¢å¯Œåè€Œæ˜¯ä¸€ç§è´Ÿæ‹…å’Œéº»çƒ¦ã€‚", d:"container", r:true},
        {t:"æˆ‘åšä¿¡è‡ªå·±æœªæ¥ä¸€å®šä¼šéå¸¸å¯Œæœ‰ï¼Œè¿™åªæ˜¯æ—¶é—´é—®é¢˜ã€‚", d:"container", r:false},

        // --- ç¤¾äº¤æ æ† Social (æ–°å¢) ---
        {t:"æˆ‘ä¸å¤ªæ“…é•¿éº»çƒ¦åˆ«äººï¼Œé‡åˆ°å›°éš¾å®æ„¿è‡ªå·±æ­»ç£•ä¹Ÿä¸æƒ³æ¬ äººæƒ…ã€‚", d:"social", r:true},
        {t:"æˆ‘æ‰‹æœºé‡Œè‡³å°‘æœ‰3ä¸ªéšæ—¶èƒ½å€Ÿç»™æˆ‘5ä¸‡å—é’±çš„æœ‹å‹ã€‚", d:"social", r:false},
        {t:"åœ¨ç¤¾äº¤åœºåˆï¼Œæˆ‘é€šå¸¸èƒ½è¿…é€Ÿæ‰¾åˆ°é‚£ä¸ªæœ€æœ‰å½±å“åŠ›çš„äººå¹¶å»ºç«‹è”ç³»ã€‚", d:"social", r:false},
        {t:"æˆ‘è®¤ä¸ºâ€œäººè„‰â€æœ¬è´¨ä¸Šæ˜¯åˆ©ç›Šäº¤æ¢ï¼Œæ‰€ä»¥æˆ‘å¾ˆæ’æ–¥åˆ»æ„ç¤¾äº¤ã€‚", d:"social", r:true},
        {t:"æˆ‘æ„¿æ„èŠ±é’±è¯·æ¯”æˆ‘å‰å®³çš„äººåƒé¥­ï¼Œåªä¸ºå¬å¬ä»–ä»¬çš„å»ºè®®ã€‚", d:"social", r:false},
        {t:"å¤§éƒ¨åˆ†æ—¶é—´æˆ‘å–œæ¬¢ç‹¬å¤„ï¼Œè§‰å¾—åº”é…¬æ˜¯æµªè´¹ç”Ÿå‘½ã€‚", d:"social", r:true},

        // --- è´¢å•†é€»è¾‘ Logic (æ–°å¢) ---
        {t:"æˆ‘éå¸¸æ¸…æ¥šè‡ªå·±çš„èµ„äº§è´Ÿå€ºæƒ…å†µï¼Œèƒ½ç²¾ç¡®è¯´å‡ºæ¯æœˆçš„ç»“ä½™ç‡ã€‚", d:"logic", r:false},
        {t:"çœ‹åˆ°å¤æ‚çš„æ•°å­—å›¾è¡¨æˆ–æ”¶ç›Šç‡è®¡ç®—å…¬å¼ï¼Œæˆ‘å°±å¤´ç–¼æƒ³è·³è¿‡ã€‚", d:"logic", r:true},
        {t:"æˆ‘èƒ½æ¸…æ™°åŒºåˆ†ä»€ä¹ˆæ˜¯â€œèµ„äº§â€ï¼ˆæŠŠé’±æ”¾å£è¢‹ï¼‰å’Œâ€œè´Ÿå€ºâ€ï¼ˆæŠŠé’±æ‹¿èµ°ï¼‰ã€‚", d:"logic", r:false},
        {t:"æˆ‘æœ‰è®°è´¦çš„ä¹ æƒ¯ï¼Œæˆ–è€…è‡³å°‘çŸ¥é“é’±ä¸»è¦èŠ±å“ªå„¿äº†ã€‚", d:"logic", r:false},
        {t:"æˆ‘æœ‰ä¿¡ç”¨å¡åˆ†æœŸæˆ–ç½‘è´·çš„ä¹ æƒ¯ï¼Œç»å¸¸æ‹†ä¸œå¢™è¡¥è¥¿å¢™ã€‚", d:"logic", r:true},
        {t:"ä¸ºäº†çœå‡ å—é’±é…é€è´¹ï¼Œæˆ‘æ„¿æ„å¤šèŠ±20åˆ†é’Ÿæ—¶é—´å»å‡‘å•ã€‚", d:"logic", r:true} // å…¸å‹çš„ç©·äººæ€ç»´(æ—¶é—´å»‰ä»·)
    ];

    // === 2. ç»“æœæ–‡æ¡ˆé…ç½® ===
    const archetypes = {
        sense: { t:"ğŸ¦… å•†ä¸šç‹™å‡»æ‰‹", desc:"ä½ çš„ç›´è§‰æ˜¯ä¸Šå¸ç»™çš„ç¤¼ç‰©ï¼Œæ€»èƒ½å‘ç°éåœ°é»„é‡‘ã€‚" },
        risk: { t:"ğŸ¦ è’é‡å¾æœè€…", desc:"å¤©ç”Ÿçš„ç ´å±€è€…ï¼Œæ··ä¹±å’Œé£é™©æ˜¯ä½ æ™‹å‡çš„é˜¶æ¢¯ã€‚" },
        action: { t:"âš¡ é—ªç”µå®å¹²å®¶", desc:"åœ¨ä½ çš„å­—å…¸é‡Œæ²¡æœ‰â€œçŠ¹è±«â€ï¼Œåªæœ‰â€œæå®šå®ƒâ€ã€‚" },
        container: { t:"ğŸ° è´¢å¯Œå®ˆé—¨äºº", desc:"ä½ æ‹¥æœ‰å¸å¼•é‡‘é’±çš„ç£åœºï¼Œä¸”èƒ½ç¨³ç¨³å®ˆä½ç¹åã€‚" },
        social: { t:"ğŸ¤ èµ„æºé“¾æ¥è€…", desc:"ä½ ä¸éœ€è¦ä¸€ä¸ªäººæˆ˜æ–—ï¼Œæ•´ä¸ªä¸–ç•Œéƒ½æ˜¯ä½ çš„æ æ†ã€‚" },
        logic: { t:"ğŸ§  é‡‘èç²¾ç®—å¸ˆ", desc:"æåº¦ç†æ€§ä¸å†·é™ï¼Œè´¢å¯Œåœ¨ä½ çœ¼ä¸­åªæ˜¯æ•°å­—æ¸¸æˆã€‚" }
    };

    const analysisDB = {
        sense: { n:"å•†ä¸šå—…è§‰", h:"æ‹¥æœ‰é¹°çœ¼èˆ¬çš„æ´å¯ŸåŠ›ï¼Œæ“…é•¿å‘ç°å¸‚åœºç©ºç™½ã€‚", l:"å®¹æ˜“é™·å…¥ç›²ç›®å‹¤å¥‹ï¼Œå¯¹è¶‹åŠ¿ç¼ºä¹æ•æ„Ÿåº¦ã€‚" },
        risk: { n:"é£é™©åšå¼ˆ", h:"æ•¢äºåœ¨ä¸ç¡®å®šæ€§ä¸­ä¸‹æ³¨ï¼Œå…·å¤‡å¯Œäººé‡å¿ƒã€‚", l:"å®‰äºç°çŠ¶ï¼Œè¿‡åº¦è¿½æ±‚å®‰å…¨æ„Ÿå¯¼è‡´é”™å¤±è‰¯æœºã€‚" },
        action: { n:"å˜ç°æ‰§è¡Œ", h:"è¶…å¼ºè¡ŒåŠ¨åŠ›ï¼Œæ˜¯ç¦»é’±æœ€è¿‘çš„å®å¹²æ´¾ã€‚", l:"æƒ³å¾—å¤šåšå¾—å°‘ï¼Œå…¸å‹çš„â€œçŸ¥è¯†ç˜«ç—ªâ€æ‚£è€…ã€‚" },
        container: { n:"è´¢å¯Œé…å¾—æ„Ÿ", h:"å†…å¿ƒå¯Œè¶³ï¼Œé‡‘é’±æµå‘ä½ æ—¶æ¯«æ— é˜»ç¢ã€‚", l:"æ½œæ„è¯†æ’æ–¥é‡‘é’±ï¼Œå®¹æ˜“â€œç•™ä¸ä½è´¢â€ã€‚" },
        social: { n:"ç¤¾äº¤æ æ†", h:"æ“…é•¿å€ŸåŠ›ï¼Œæ‡‚å¾—ç”¨åˆ«äººçš„èµ„æºåŠè‡ªå·±çš„äº‹ã€‚", l:"å•æ‰“ç‹¬æ–—ï¼Œä¸å–„äºåˆ©ç”¨äººè„‰æ”¾å¤§ä»·å€¼ã€‚" },
        logic: { n:"è´¢å•†é€»è¾‘", h:"å¯¹æ•°å­—æ•æ„Ÿï¼Œç†è´¢æ€è·¯æ¸…æ™°ï¼Œä¸æ˜“è¢«å‰²éŸ­èœã€‚", l:"ç¼ºä¹æˆæœ¬æ¦‚å¿µï¼Œå®¹æ˜“å‡­æ„Ÿè§‰æ¶ˆè´¹å’ŒæŠ•èµ„ã€‚" }
    };

    // é’ˆå¯¹æœ€é«˜åˆ†ç»´åº¦çš„èŒä¸šæ¨è
    const careersDB = {
        sense: ["çŸ­è§†é¢‘æ“ç›˜æ‰‹", "ç”µå•†é€‰å“å¸ˆ", "è¶‹åŠ¿æŠ•èµ„äºº", "å•†ä¸šå’¨è¯¢é¡¾é—®"],
        risk: ["åˆ›ä¸šè€…", "å…¨èŒäº¤æ˜“å‘˜", "æ—©æœŸé£æŠ•", "é”€å”®æ€»ç›‘"],
        action: ["åœ°æ¨å›¢é˜Ÿé•¿", "é¡¹ç›®ç»ç†", "ç›´æ’­å¸¦è´§ä¸»æ’­", "ç½‘çº¦è½¦/å¤–å–ç«™é•¿"],
        container: ["èµ„äº§ç®¡ç†", "ä¿¡æ‰˜ç»ç†", "å¿ƒç†å’¨è¯¢å¸ˆ", "é«˜ç«¯ç®¡å®¶"],
        social: ["ä¿é™©ç»çºªäºº", "é«˜ç«¯çŒå¤´", "ç¤¾ç¾¤ä¸»ç†äºº", "å…¬å…³/BDæ€»ç›‘"],
        logic: ["è´¢åŠ¡æ€»ç›‘", "æ•°æ®åˆ†æå¸ˆ", "ç²¾ç®—å¸ˆ", "é‡åŒ–äº¤æ˜“å‘˜"]
    };

    // é€»è¾‘æ§åˆ¶
    let idx = 0;
    let scores = { sense:0, risk:0, action:0, container:0, social:0, logic:0 };
    // æ´—ç‰Œ
    questions.sort(()=>Math.random()-0.5);

    function init() {
        render();
    }

    function render() {
        document.getElementById('p-text').innerText = `${idx+1} / ${questions.length}`;
        document.getElementById('p-fill').style.width = `${((idx)/questions.length)*100}%`;
        
        const q = questions[idx];
        document.getElementById('q-tag').innerText = "Q" + (idx+1);
        
        const qt = document.getElementById('q-text');
        qt.style.opacity = 0;
        setTimeout(()=>{
            qt.innerText = q.t;
            qt.style.opacity = 1;
        }, 150);
    }

    function ans(val) {
        const q = questions[idx];
        let s = q.r ? (6-val) : val;
        scores[q.d] += s;
        
        idx++;
        if(idx < questions.length) render();
        else showRes();
    }

    function showRes() {
        document.getElementById('quiz-page').style.display = 'none';
        document.getElementById('result-page').style.display = 'block';

        // 1. è®¡ç®—
        let maxS = -1, maxD = 'sense';
        let total = 0;
        const dims = Object.keys(scores);
        
        dims.forEach(d => {
            total += scores[d];
            if(scores[d] > maxS) { maxS = scores[d]; maxD = d; }
        });

        // 2. åŸºç¡€ä¿¡æ¯
        document.getElementById('res-score').innerText = total;
        document.getElementById('res-title').innerText = archetypes[maxD].t;

        // 3. è¯¦ç»†åˆ†æç”Ÿæˆ
        const anaBox = document.getElementById('analysis-container');
        dims.forEach(d => {
            const s = scores[d];
            const meta = analysisDB[d];
            // æ»¡åˆ†30åˆ†ã€‚ >=24é«˜ï¼Œ<=15ä½
            let status = s>=24 ? "ä¼˜åŠ¿" : (s<=15 ? "çŸ­æ¿" : "å¸¸æ€");
            let color = s>=24 ? "#16a34a" : (s<=15 ? "#dc2626" : "#ca8a04");
            let desc = s>=22 ? meta.h : (s<=15 ? meta.l : "è¡¨ç°ä¸­è§„ä¸­çŸ©ï¼Œè‹¥èƒ½çªç ´æ­¤é¡¹ï¼Œè´¢å¯Œå°†ä¸Šä¸€ä¸ªå°é˜¶ã€‚");
            
            anaBox.innerHTML += `
                <div class="analysis-card">
                    <div class="card-head">
                        <span style="color:${color}">â— ${meta.n}</span>
                        <span style="background:${color}; color:#fff; font-size:12px; padding:2px 8px; border-radius:4px;">${status}</span>
                    </div>
                    <div class="card-body">${desc}</div>
                </div>
            `;
        });

        // 4. èŒä¸šæ¨è
        const cBox = document.getElementById('career-container');
        const jobs = careersDB[maxD];
        jobs.forEach(j => {
            cBox.innerHTML += `<div class="career-tag">${j}</div>`;
        });
        // è¡¥å‡ ä¸ªé€šç”¨çš„
        if(total > 150) cBox.innerHTML += `<div class="career-tag">å¤©ä½¿æŠ•èµ„äºº</div>`;

        // 5. è¿åŠ¿é¢„æµ‹
        const fBox = document.getElementById('fortune-text');
        if(total > 140) {
            fBox.innerHTML = "ä½ çš„è´¢å¯Œèƒ½é‡ç›®å‰å¤„äº<b>ã€Œçˆ†å‘å‰å¤œã€</b>ã€‚æœªæ¥3-5å¹´ï¼Œåªè¦ä½ åœ¨â€œçŸ­æ¿â€ç»´åº¦ç¨ä½œä¿®è¡¥ï¼Œææœ‰å¯èƒ½é‡åˆ°ä¸€ä¸ªæ”¹å˜é˜¶å±‚çš„æœºä¼šã€‚é‡ç‚¹å…³æ³¨æ¯å¹´çš„9æœˆå’Œ10æœˆï¼Œé‚£æ˜¯ä½ è´¢è¿æœ€æ—ºçš„æ—¶åˆ»ã€‚";
        } else if(total > 110) {
            fBox.innerHTML = "ä½ çš„è´¢å¯Œæ›²çº¿å‘ˆç°<b>ã€Œèºæ—‹ä¸Šå‡ã€</b>æ€åŠ¿ã€‚è™½ç„¶ä¸ä¼šä¸€å¤œæš´å¯Œï¼Œä½†èƒœåœ¨ç¨³å¥ã€‚æœªæ¥5å¹´ä½ çš„èµ„äº§å°†é€šè¿‡å¤åˆ©ç¨³æ­¥å¢é•¿ã€‚å»ºè®®å‡å°‘æ— æ•ˆç¤¾äº¤ï¼Œä¸“æ³¨æ ¸å¿ƒæŠ€èƒ½çš„æ‰“ç£¨ï¼Œ35å²åå°†è¿æ¥å¤§è¿ã€‚";
        } else {
            fBox.innerHTML = "ä½ ç›®å‰æ­£å¤„äº<b>ã€Œèƒ½é‡è“„ç§¯æœŸã€</b>ã€‚è™½ç„¶ç°çŠ¶å¯èƒ½è®©ä½ æ„Ÿåˆ°æœ‰äº›å¡é¡¿ï¼Œä½†è¿™æ­£æ˜¯æ‰æ ¹çš„å¥½æ—¶å€™ã€‚æœªæ¥2å¹´ä¸è¦ç›²ç›®æŠ•èµ„ï¼Œå®ˆä½æœ¬é‡‘ï¼Œå¤šè€ƒè¯ã€å¤šå­¦æŠ€èƒ½ã€‚åªè¦ä¿®è¡¥å¥½â€œå˜ç°æ‰§è¡Œâ€è¿™ä¸€ç¯ï¼Œé€†è¢­æŒ‡æ—¥å¯å¾…ã€‚";
        }

        // 6. ç»˜å›¾
        drawChart(dims, scores);
    }

    function drawChart(labels, dataObj) {
        const ctx = document.getElementById('radarChart').getContext('2d');
        // ä¸­æ–‡æ ‡ç­¾æ˜ å°„
        const cnMap = {sense:"å•†ä¸šå—…è§‰", risk:"é£é™©åšå¼ˆ", action:"å˜ç°æ‰§è¡Œ", container:"é…å¾—æ„Ÿ", social:"ç¤¾äº¤æ æ†", logic:"è´¢å•†é€»è¾‘"};
        const displayLabels = labels.map(k => cnMap[k]);
        const dataArr = labels.map(k => dataObj[k]);

        new Chart(ctx, {
            type: 'radar',
            data: {
                labels: displayLabels,
                datasets: [{
                    label: 'èƒ½åŠ›å€¼',
                    data: dataArr,
                    backgroundColor: 'rgba(139, 92, 246, 0.25)',
                    borderColor: '#7c3aed',
                    pointBackgroundColor: '#fff',
                    pointBorderColor: '#7c3aed',
                    borderWidth: 2
                }]
            },
            options: {
                scales: {
                    r: {
                        beginAtZero: true,
                        max: 30,
                        ticks: { display: false },
                        pointLabels: { font: {size:12, weight:'bold'}, color:'#334155' }
                    }
                },
                plugins: { legend: {display:false} }
            }
        });
    }

    // å¯åŠ¨
    init();
</script>
</body>
</html>
